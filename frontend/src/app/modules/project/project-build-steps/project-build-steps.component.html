<div class="container px-0">
    <div cdkDropList class="project-build-step-list row container" (cdkDropListDropped)="drop($event)">
        <div class="project-build-step row" *ngFor="let buildStep of buildSteps; let i = index" cdkDrag>
            <div class="col-2">
                Build step #{{i+1}}
            </div>
            <div class="col-4">
                {{buildStep.buildStepName}}
            </div>
            <div class="col-4">
                Work directory: {{buildStep.workDirectory}}
            </div>
            <div class="col-2">
                <button class="btn" (click)="removeBuildStep(buildStep)">
          <i class="fas fa-times"></i>
        </button>
            </div>
        </div>
    </div>

    <div class="row" hidden="true" [hidden]="!isAdding">
        <div class="col-sm-4 col-xs-12 px-0 pr-2 new-step-input">
            <select required class="form-control" [(ngModel)]="newBuildStep">
        <ng-container *ngFor="let step of emptyBuildSteps">
          <option [ngValue]='step'>{{step.buildStepName}}</option>
        </ng-container>
      </select>
        </div>
        <div class="col-sm-4 col-xs-12 px-0 new-step-input"><input class="input h-100 work-dir" type="text" required placeholder="Work directory" [(ngModel)]="workDir"></div>
        <div class="col-sm-2 col-xs-6 px-0 new-step-input"><button class="btn operation-btn btn-danger" (click)="cancelBuildStep()">Cancel</button></div>
        <div class="col-sm-2 col-xs-6 px-0 new-step-input"><button class="btn operation-btn btn-success" [disabled]="!newBuildStep || !workDir" (click)="saveBuildStep()">Save</button></div>
    </div>

    <div class="row">
        <button class="btn btn-info" [hidden]="isAdding" (click)="addBuildStep()">Add a build step</button>
    </div>
</div>
